-module(erx_logger).

-export([debug/1, debug/2, 
         info/1, info/2, 
         warn/1, warn/2, 
         error/1, error/2]).

%%--------------------------------------------------------------------
%% @doc Log a debug message
%% @end
%%--------------------------------------------------------------------
debug(Msg) ->
    log(debug, Msg, []).

%%--------------------------------------------------------------------
%% @doc Log a debug message with format args
%% @end
%%--------------------------------------------------------------------
debug(Fmt, Args) ->
    log(debug, Fmt, Args).

%%--------------------------------------------------------------------
%% @doc Log an info message
%% @end
%%--------------------------------------------------------------------
info(Msg) ->
    log(info, Msg, []).

%%--------------------------------------------------------------------
%% @doc Log an info message with format args
%% @end
%%--------------------------------------------------------------------
info(Fmt, Args) ->
    log(info, Fmt, Args).

%%--------------------------------------------------------------------
%% @doc Log a warning message
%% @end
%%--------------------------------------------------------------------
warn(Msg) ->
    log(warn, Msg, []).

%%--------------------------------------------------------------------
%% @doc Log a warning message with format args
%% @end
%%--------------------------------------------------------------------
warn(Fmt, Args) ->
    log(warn, Fmt, Args).

%%--------------------------------------------------------------------
%% @doc Log an error message
%% @end
%%--------------------------------------------------------------------
error(Msg) ->
    log(error, Msg, []).

%%--------------------------------------------------------------------
%% @doc Log an error message with format args
%% @end
%%--------------------------------------------------------------------
error(Fmt, Args) ->
    log(error, Fmt, Args).

%%--------------------------------------------------------------------
%% @doc Log a message with specified level, format and args
%% @end
%%--------------------------------------------------------------------
log(Level, Fmt, Args) ->
    {_, {Hour, Min, Sec}} = calendar:local_time(),
    io:format("[~p:~p:~p] [~p] " ++ Fmt ++ "~n", 
              [Hour, Min, Sec, Level] ++ Args).
